(function(){window.addEventListener('load',function(){let elements=document.querySelectorAll('source, img, iframe');if('IntersectionObserver'in window){let config={root:null,rootMargin:'0px',threshold:.25};let observer=new IntersectionObserver(onChange,config);elements.forEach(element=>observer.observe(element));function onChange(changes,observer){changes.forEach(change=>{if(change.intersectionRatio>0){loadSource(change.target);observer.unobserve(change.target);}});}}else{elements.forEach(element=>loadSource(element));console.log('IntersectionObserver is NOT Supported');}
function loadSource(element){if(element.dataset&&element.dataset.src){element.src=element.dataset.src;element.onload=function(){element.classList.add('fade-in');element.classList.remove('lazy-hidden');if(element.parentElement.classList.contains('lazy-load--wrapper')){element.parentElement.classList.add('fade-in');}}}
if(element.dataset&&element.dataset.srcset){element.srcset=element.dataset.srcset;element.onload=function(){element.classList.add('fade-in');element.classList.remove('lazy-hidden');element.parentElement.classList.add('fade-in');}}}})})();